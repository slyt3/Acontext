{
  "openapi": "3.1.0",
  "info": {
    "title": "Acontext API",
    "description": "API for Acontext.",
    "version": "1.0.0",
    "contact": {},
    "license": {
      "name": "MIT"
    }
  },
  "servers": [
    {
      "url": "http://localhost:8029/api/v1",
      "description": "Local development server"
    },
    {
      "url": "https://api.acontext.com/api/v1",
      "description": "Production server"
    }
  ],
  "security": [
    {
      "BearerAuth": []
    }
  ],
  "paths": {
    "/disk": {
      "get": {
        "tags": [
          "disk"
        ],
        "summary": "List disks",
        "description": "List all disks under a project",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "Limit of disks to return, default 20. Max 200.",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "Cursor for pagination. Use the cursor from the previous response to get the next page.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "time_desc",
            "in": "query",
            "description": "Order by created_at descending if true, ascending if false (default false)",
            "schema": {
              "type": "boolean",
              "example": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ListDisksOutput"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# List disks\ndisks = client.disks.list(limit=10, time_desc=True)\nfor disk in disks.items:\n    print(f\"Disk: {disk.id}\")\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// List disks\nconst disks = await client.disks.list({ limit: 10, timeDesc: true });\nfor (const disk of disks.items) {\n  console.log(`Disk: ${disk.id}`);\n}\n"
          }
        ]
      },
      "post": {
        "tags": [
          "disk"
        ],
        "summary": "Create disk",
        "description": "Create a disk group under a project",
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Disk"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Create a disk\ndisk = client.disks.create()\nprint(f\"Created disk: {disk.id}\")\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Create a disk\nconst disk = await client.disks.create();\nconsole.log(`Created disk: ${disk.id}`);\n"
          }
        ]
      }
    },
    "/disk/{disk_id}": {
      "delete": {
        "tags": [
          "disk"
        ],
        "summary": "Delete disk",
        "description": "Delete a disk by its UUID",
        "parameters": [
          {
            "name": "disk_id",
            "in": "path",
            "required": true,
            "description": "Disk ID",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Delete a disk\nclient.disks.delete(disk_id='disk-uuid')\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Delete a disk\nawait client.disks.delete('disk-uuid');\n"
          }
        ]
      }
    },
    "/session": {
      "get": {
        "tags": [
          "session"
        ],
        "summary": "Get sessions",
        "description": "Get all sessions under a project, optionally filtered by space_id",
        "parameters": [
          {
            "name": "space_id",
            "in": "query",
            "description": "Space ID to filter sessions",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "not_connected",
            "in": "query",
            "description": "Filter sessions not connected to any space (default false)",
            "schema": {
              "type": "boolean",
              "example": false
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Limit of sessions to return, default 20. Max 200.",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "Cursor for pagination. Use the cursor from the previous response to get the next page.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "time_desc",
            "in": "query",
            "description": "Order by created_at descending if true, ascending if false (default false)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ListSessionsOutput"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# List sessions\nsessions = client.sessions.list(\n    space_id='space-uuid',\n    limit=20,\n    time_desc=True\n)\nfor session in sessions.items:\n    print(f\"{session.id}: {session.space_id}\")\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// List sessions\nconst sessions = await client.sessions.list({\n  spaceId: 'space-uuid',\n  limit: 20,\n  timeDesc: true\n});\nfor (const session of sessions.items) {\n  console.log(`${session.id}: ${session.space_id}`);\n}\n"
          }
        ]
      },
      "post": {
        "tags": [
          "session"
        ],
        "summary": "Create session",
        "description": "Create a new session under a space",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSessionReq"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Session"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Create a session\nsession = client.sessions.create(\n    space_id='space-uuid',\n    configs={\"mode\": \"chat\"}\n)\nprint(f\"Created session: {session.id}\")\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Create a session\nconst session = await client.sessions.create({\n  spaceId: 'space-uuid',\n  configs: { mode: 'chat' }\n});\nconsole.log(`Created session: ${session.id}`);\n"
          }
        ]
      }
    },
    "/session/{session_id}": {
      "delete": {
        "tags": [
          "session"
        ],
        "summary": "Delete session",
        "description": "Delete a session by id",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "description": "Session ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Delete a session\nclient.sessions.delete(session_id='session-uuid')\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Delete a session\nawait client.sessions.delete('session-uuid');\n"
          }
        ]
      }
    },
    "/session/{session_id}/configs": {
      "get": {
        "tags": [
          "session"
        ],
        "summary": "Get session configs",
        "description": "Get session configs by id",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "description": "Session ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Session"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Get session configs\nsession = client.sessions.get_configs(session_id='session-uuid')\nprint(session.configs)\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Get session configs\nconst session = await client.sessions.getConfigs('session-uuid');\nconsole.log(session.configs);\n"
          }
        ]
      },
      "put": {
        "tags": [
          "session"
        ],
        "summary": "Update session configs",
        "description": "Update session configs by id",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "description": "Session ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSessionConfigsReq"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Update session configs\nclient.sessions.update_configs(\n    session_id='session-uuid',\n    configs={\"mode\": \"updated-mode\"}\n)\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Update session configs\nawait client.sessions.updateConfigs('session-uuid', {\n  configs: { mode: 'updated-mode' }\n});\n"
          }
        ]
      }
    },
    "/session/{session_id}/connect_to_space": {
      "post": {
        "tags": [
          "session"
        ],
        "summary": "Connect session to space",
        "description": "Connect a session to a space by id",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "description": "Session ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConnectToSpaceReq"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Connect session to space\nclient.sessions.connect_to_space(\n    session_id='session-uuid',\n    space_id='space-uuid'\n)\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Connect session to space\nawait client.sessions.connectToSpace('session-uuid', {\n  spaceId: 'space-uuid'\n});\n"
          }
        ]
      }
    },
    "/session/{session_id}/flush": {
      "post": {
        "tags": [
          "session"
        ],
        "summary": "Flush session",
        "description": "Flush the session buffer for a given session",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "description": "Session ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/FlagResponse"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Flush session buffer\nresult = client.sessions.flush(session_id='session-uuid')\nprint(result.status)\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Flush session buffer\nconst result = await client.sessions.flush('session-uuid');\nconsole.log(result.status);\n"
          }
        ]
      }
    },
    "/session/{session_id}/messages": {
      "get": {
        "tags": [
          "session"
        ],
        "summary": "Get messages from session",
        "description": "Get messages from session. Default format is openai. Can convert to acontext (original) or anthropic format.",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "description": "Session ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Limit of messages to return, default 20. Max 200.",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "Cursor for pagination. Use the cursor from the previous response to get the next page.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "with_asset_public_url",
            "in": "query",
            "description": "Whether to return asset public url, default is true",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "format",
            "in": "query",
            "description": "Format to convert messages to: acontext (original), openai (default), anthropic.",
            "schema": {
              "type": "string",
              "enum": [
                "acontext",
                "openai",
                "anthropic"
              ]
            }
          },
          {
            "name": "time_desc",
            "in": "query",
            "description": "Order by created_at descending if true, ascending if false (default false)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/GetMessagesOutput"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Get messages from session\nmessages = client.sessions.get_messages(\n    session_id='session-uuid',\n    limit=50,\n    format='acontext',\n    time_desc=True\n)\nfor message in messages.items:\n    print(f\"{message.role}: {message.parts}\")\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Get messages from session\nconst messages = await client.sessions.getMessages('session-uuid', {\n  limit: 50,\n  format: 'acontext',\n  timeDesc: true\n});\nfor (const message of messages.items) {\n  console.log(`${message.role}: ${JSON.stringify(message.parts)}`);\n}\n"
          }
        ]
      },
      "post": {
        "tags": [
          "session"
        ],
        "summary": "Send message to session",
        "description": "Supports JSON and multipart/form-data. In multipart mode: the payload is a JSON string placed in a form field. The format parameter indicates the format of the input message (default: openai, same as GET). The blob field should be a complete message object: for openai, use OpenAI ChatCompletionMessageParam format (with role and content); for anthropic, use Anthropic MessageParam format (with role and content); for acontext (internal), use {role, parts} format.",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "description": "Session ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendMessageReq"
              }
            },
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "payload": {
                    "type": "string",
                    "description": "SendMessage payload (Content-Type: multipart/form-data)"
                  },
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "When uploading files, the field name must correspond to parts[*].file_field."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Message"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\nfrom acontext.messages import build_acontext_message\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Send a message in Acontext format\nmessage = build_acontext_message(role='user', parts=['Hello!'])\nclient.sessions.send_message(\n    session_id='session-uuid',\n    blob=message,\n    format='acontext'\n)\n\n# Send a message in OpenAI format\nopenai_message = {'role': 'user', 'content': 'Hello from OpenAI format!'}\nclient.sessions.send_message(\n    session_id='session-uuid',\n    blob=openai_message,\n    format='openai'\n)\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient, MessagePart } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Send a message in Acontext format\nawait client.sessions.sendMessage(\n  'session-uuid',\n  {\n    role: 'user',\n    parts: [MessagePart.textPart('Hello!')]\n  },\n  { format: 'acontext' }\n);\n\n// Send a message in OpenAI format\nawait client.sessions.sendMessage(\n  'session-uuid',\n  {\n    role: 'user',\n    content: 'Hello from OpenAI format!'\n  },\n  { format: 'openai' }\n);\n"
          }
        ]
      }
    },
    "/space": {
      "get": {
        "tags": [
          "space"
        ],
        "summary": "Get spaces",
        "description": "Get all spaces under a project",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "Limit of spaces to return, default 20. Max 200.",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "Cursor for pagination. Use the cursor from the previous response to get the next page.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "time_desc",
            "in": "query",
            "description": "Order by created_at descending if true, ascending if false (default false)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ListSpacesOutput"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# List spaces\nspaces = client.spaces.list(limit=20, time_desc=True)\nfor space in spaces.items:\n    print(f\"{space.id}: {space.configs}\")\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// List spaces\nconst spaces = await client.spaces.list({ limit: 20, timeDesc: true });\nfor (const space of spaces.items) {\n  console.log(`${space.id}: ${JSON.stringify(space.configs)}`);\n}\n"
          }
        ]
      },
      "post": {
        "tags": [
          "space"
        ],
        "summary": "Create space",
        "description": "Create a new space under a project",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSpaceReq"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Space"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Create a space\nspace = client.spaces.create(configs={\"name\": \"My Space\"})\nprint(f\"Created space: {space.id}\")\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Create a space\nconst space = await client.spaces.create({ configs: { name: 'My Space' } });\nconsole.log(`Created space: ${space.id}`);\n"
          }
        ]
      }
    },
    "/space/{space_id}": {
      "delete": {
        "tags": [
          "space"
        ],
        "summary": "Delete space",
        "description": "Delete a space by its ID",
        "parameters": [
          {
            "name": "space_id",
            "in": "path",
            "required": true,
            "description": "Space ID",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Delete a space\nclient.spaces.delete(space_id='space-uuid')\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Delete a space\nawait client.spaces.delete('space-uuid');\n"
          }
        ]
      }
    },
    "/space/{space_id}/configs": {
      "get": {
        "tags": [
          "space"
        ],
        "summary": "Get space configs",
        "description": "Retrieve the configurations of a space by its ID",
        "parameters": [
          {
            "name": "space_id",
            "in": "path",
            "required": true,
            "description": "Space ID",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Space"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Get space configs\nspace = client.spaces.get_configs(space_id='space-uuid')\nprint(space.configs)\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Get space configs\nconst space = await client.spaces.getConfigs('space-uuid');\nconsole.log(space.configs);\n"
          }
        ]
      },
      "put": {
        "tags": [
          "space"
        ],
        "summary": "Update space configs",
        "description": "Update the configurations of a space by its ID",
        "parameters": [
          {
            "name": "space_id",
            "in": "path",
            "required": true,
            "description": "Space ID",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSpaceConfigsReq"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Update space configs\nclient.spaces.update_configs(\n    space_id='space-uuid',\n    configs={\"name\": \"Updated Name\", \"description\": \"New description\"}\n)\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Update space configs\nawait client.spaces.updateConfigs('space-uuid', {\n  configs: { name: 'Updated Name', description: 'New description' }\n});\n"
          }
        ]
      }
    },
    "/space/{space_id}/experience_search": {
      "get": {
        "tags": [
          "space"
        ],
        "summary": "Get experience search",
        "description": "Retrieve the experience search results for a given query within a space by its ID",
        "parameters": [
          {
            "name": "space_id",
            "in": "path",
            "required": true,
            "description": "Space ID",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000"
            }
          },
          {
            "name": "query",
            "in": "query",
            "required": true,
            "description": "Search query for page/folder titles",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of results to return (1-50, default 10)",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "mode",
            "in": "query",
            "description": "Search mode: fast or agentic (default fast)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "semantic_threshold",
            "in": "query",
            "description": "Cosine distance threshold (0=identical, 2=opposite)",
            "schema": {
              "type": "number",
              "format": "float"
            }
          },
          {
            "name": "max_iterations",
            "in": "query",
            "description": "Maximum number of iterations for agentic search (1-100, default 16)",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/SpaceSearchResult"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Experience search\nresult = client.spaces.experience_search(\n    space_id='space-uuid',\n    query='How to implement authentication?',\n    limit=10,\n    mode='agentic',\n    max_iterations=20\n)\nfor block in result.cited_blocks:\n    print(f\"{block.title} (distance: {block.distance})\")\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Experience search\nconst result = await client.spaces.experienceSearch('space-uuid', {\n  query: 'How to implement authentication?',\n  limit: 10,\n  mode: 'agentic',\n  maxIterations: 20\n});\nfor (const block of result.cited_blocks) {\n  console.log(`${block.title} (distance: ${block.distance})`);\n}\n"
          }
        ]
      }
    },
    "/space/{space_id}/semantic_glob": {
      "get": {
        "tags": [
          "space"
        ],
        "summary": "Get semantic glob",
        "description": "Retrieve the semantic glob (glob) search results for page/folder titles within a space by its ID",
        "parameters": [
          {
            "name": "space_id",
            "in": "path",
            "required": true,
            "description": "Space ID",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000"
            }
          },
          {
            "name": "query",
            "in": "query",
            "required": true,
            "description": "Search query for page/folder titles",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of results to return (1-50, default 10)",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "threshold",
            "in": "query",
            "description": "Cosine distance threshold (0=identical, 2=opposite)",
            "schema": {
              "type": "number",
              "format": "float"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/SearchResultBlockItem"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Semantic glob search\nresults = client.spaces.semantic_glob(\n    space_id='space-uuid',\n    query='authentication and authorization pages',\n    limit=10,\n    threshold=1.0\n)\nfor block in results:\n    print(f\"{block.title} - {block.type}\")\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Semantic glob search\nconst results = await client.spaces.semanticGlobal('space-uuid', {\n  query: 'authentication and authorization pages',\n  limit: 10,\n  threshold: 1.0\n});\nfor (const block of results) {\n  console.log(`${block.title} - ${block.type}`);\n}\n"
          }
        ]
      }
    },
    "/space/{space_id}/semantic_grep": {
      "get": {
        "tags": [
          "space"
        ],
        "summary": "Get semantic grep",
        "description": "Retrieve the semantic grep search results for content blocks within a space by its ID",
        "parameters": [
          {
            "name": "space_id",
            "in": "path",
            "required": true,
            "description": "Space ID",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000"
            }
          },
          {
            "name": "query",
            "in": "query",
            "required": true,
            "description": "Search query for content blocks",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of results to return (1-50, default 10)",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "threshold",
            "in": "query",
            "description": "Cosine distance threshold (0=identical, 2=opposite)",
            "schema": {
              "type": "number",
              "format": "float"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/SearchResultBlockItem"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Semantic grep search\nresults = client.spaces.semantic_grep(\n    space_id='space-uuid',\n    query='JWT token validation code examples',\n    limit=15,\n    threshold=0.7\n)\nfor block in results:\n    print(f\"{block.title} - distance: {block.distance}\")\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Semantic grep search\nconst results = await client.spaces.semanticGrep('space-uuid', {\n  query: 'JWT token validation code examples',\n  limit: 15,\n  threshold: 0.7\n});\nfor (const block of results) {\n  console.log(`${block.title} - distance: ${block.distance}`);\n}\n"
          }
        ]
      }
    },
    "/space/{space_id}/block": {
      "get": {
        "tags": [
          "block"
        ],
        "summary": "List blocks",
        "description": "List blocks in a space. Use type query parameter to filter by block type (page, folder, text, sop, etc.). Use parent_id query parameter to filter by parent. If both type and parent_id are empty, returns top-level pages and folders.",
        "parameters": [
          {
            "name": "space_id",
            "in": "path",
            "required": true,
            "description": "Space ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "type",
            "in": "query",
            "description": "Block type",
            "schema": {
              "type": "string",
              "enum": [
                "page",
                "folder",
                "text",
                "sop"
              ]
            }
          },
          {
            "name": "parent_id",
            "in": "query",
            "description": "Parent ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Block"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# List blocks\nblocks = client.blocks.list(\n    space_id='space-uuid',\n    parent_id='parent-uuid',\n    block_type='page'\n)\nfor block in blocks:\n    print(f\"{block.id}: {block.title}\")\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// List blocks\nconst blocks = await client.blocks.list('space-uuid', {\n  parentId: 'parent-uuid',\n  type: 'page'\n});\nfor (const block of blocks) {\n  console.log(`${block.id}: ${block.title}`);\n}\n"
          }
        ]
      },
      "post": {
        "tags": [
          "block"
        ],
        "summary": "Create block",
        "description": "Create a new block (supports all types: page, folder, text, sop, etc.). For page and folder types, parent_id is optional. For other types, parent_id is required.",
        "parameters": [
          {
            "name": "space_id",
            "in": "path",
            "required": true,
            "description": "Space ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBlockReq"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/InsertBlockResponse"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Create a page\npage = client.blocks.create(\n    space_id='space-uuid',\n    block_type='page',\n    title='My Page'\n)\n\n# Create a text block under the page\ntext_block = client.blocks.create(\n    space_id='space-uuid',\n    parent_id=page['id'],\n    block_type='text',\n    title='Content',\n    props={\"text\": \"Block content here\"}\n)\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Create a page\nconst page = await client.blocks.create('space-uuid', {\n  blockType: 'page',\n  title: 'My Page'\n});\n\n// Create a text block under the page\nconst textBlock = await client.blocks.create('space-uuid', {\n  parentId: page.id,\n  blockType: 'text',\n  title: 'Content',\n  props: { text: 'Block content here' }\n});\n"
          }
        ]
      }
    },
    "/space/{space_id}/block/{block_id}": {
      "delete": {
        "tags": [
          "block"
        ],
        "summary": "Delete block",
        "description": "Delete a block by its ID (works for all block types: page, folder, text, sop, etc.)",
        "parameters": [
          {
            "name": "space_id",
            "in": "path",
            "required": true,
            "description": "Space ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "block_id",
            "in": "path",
            "required": true,
            "description": "Block ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Delete a block\nclient.blocks.delete(space_id='space-uuid', block_id='block-uuid')\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Delete a block\nawait client.blocks.delete('space-uuid', 'block-uuid');\n"
          }
        ]
      }
    },
    "/space/{space_id}/block/{block_id}/properties": {
      "get": {
        "tags": [
          "block"
        ],
        "summary": "Get block properties",
        "description": "Get a block's properties by its ID (works for all block types: page, folder, text, sop, etc.)",
        "parameters": [
          {
            "name": "space_id",
            "in": "path",
            "required": true,
            "description": "Space ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "block_id",
            "in": "path",
            "required": true,
            "description": "Block ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Block"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Get block properties\nblock = client.blocks.get_properties(\n    space_id='space-uuid',\n    block_id='block-uuid'\n)\nprint(f\"{block.title}: {block.props}\")\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Get block properties\nconst block = await client.blocks.getProperties('space-uuid', 'block-uuid');\nconsole.log(`${block.title}: ${JSON.stringify(block.props)}`);\n"
          }
        ]
      },
      "put": {
        "tags": [
          "block"
        ],
        "summary": "Update block properties",
        "description": "Update a block's title and properties by its ID (works for all block types: page, folder, text, sop, etc.)",
        "parameters": [
          {
            "name": "space_id",
            "in": "path",
            "required": true,
            "description": "Space ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "block_id",
            "in": "path",
            "required": true,
            "description": "Block ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateBlockPropertiesReq"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Update block properties\nclient.blocks.update_properties(\n    space_id='space-uuid',\n    block_id='block-uuid',\n    title='Updated Title',\n    props={\"text\": \"Updated content\"}\n)\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Update block properties\nawait client.blocks.updateProperties('space-uuid', 'block-uuid', {\n  title: 'Updated Title',\n  props: { text: 'Updated content' }\n});\n"
          }
        ]
      }
    },
    "/space/{space_id}/block/{block_id}/move": {
      "put": {
        "tags": [
          "block"
        ],
        "summary": "Move block",
        "description": "Move block by updating its parent_id. Works for all block types (page, folder, text, sop, etc.). For page and folder types, parent_id can be null (root level).",
        "parameters": [
          {
            "name": "space_id",
            "in": "path",
            "required": true,
            "description": "Space ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "block_id",
            "in": "path",
            "required": true,
            "description": "Block ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MoveBlockReq"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Move block to a different parent\nclient.blocks.move(\n    space_id='space-uuid',\n    block_id='block-uuid',\n    parent_id='new-parent-uuid'\n)\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Move block to a different parent\nawait client.blocks.move('space-uuid', 'block-uuid', {\n  parentId: 'new-parent-uuid'\n});\n"
          }
        ]
      }
    },
    "/space/{space_id}/block/{block_id}/sort": {
      "put": {
        "tags": [
          "block"
        ],
        "summary": "Update block sort",
        "description": "Update block sort value (works for all block types: page, folder, text, sop, etc.)",
        "parameters": [
          {
            "name": "space_id",
            "in": "path",
            "required": true,
            "description": "Space ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "block_id",
            "in": "path",
            "required": true,
            "description": "Block ID",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateBlockSortReq"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response"
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Update block sort order\nclient.blocks.update_sort(\n    space_id='space-uuid',\n    block_id='block-uuid',\n    sort=5\n)\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Update block sort order\nawait client.blocks.updateSort('space-uuid', 'block-uuid', {\n  sort: 5\n});\n"
          }
        ]
      }
    },
    "/tool/name": {
      "get": {
        "tags": [
          "tool"
        ],
        "summary": "Get tool names",
        "description": "Get all tool names within a project",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ToolReferenceData"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Get all tool names\ntools = client.tools.list()\nfor tool in tools:\n    print(f\"{tool.name}: {tool.sop_count} SOPs\")\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Get all tool names\nconst tools = await client.tools.list();\nfor (const tool of tools) {\n  console.log(`${tool.name}: ${tool.sop_count} SOPs`);\n}\n"
          }
        ]
      },
      "put": {
        "tags": [
          "tool"
        ],
        "summary": "Rename tool names",
        "description": "Rename one or more tool names within a project",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RenameToolNameReq"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Response"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/FlagResponse"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "x-code-samples": [
          {
            "label": "Python",
            "lang": "python",
            "source": "from acontext import AcontextClient\n\nclient = AcontextClient(api_key='sk_project_token')\n\n# Rename tool names\nresult = client.tools.rename([\n    {\"old_name\": \"old_tool_name\", \"new_name\": \"new_tool_name\"}\n])\nprint(result.status)\n"
          },
          {
            "label": "JavaScript",
            "lang": "javascript",
            "source": "import { AcontextClient } from '@acontext/acontext';\n\nconst client = new AcontextClient({ apiKey: 'sk_project_token' });\n\n// Rename tool names\nconst result = await client.tools.rename([\n  { oldName: 'old_tool_name', newName: 'new_tool_name' }\n]);\nconsole.log(result.status);\n"
          }
        ]
      }
    }
  },
  "components": {
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "description": "Project Bearer token (e.g., \"Bearer sk-ac-xxxx\")"
      }
    },
    "schemas": {
      "Response": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer"
          },
          "msg": {
            "type": "string"
          },
          "error": {
            "type": "string"
          },
          "data": {}
        }
      },
      "Disk": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "project_id": {
            "type": "string"
          },
          "created_at": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        }
      },
      "ListDisksOutput": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Disk"
            }
          },
          "has_more": {
            "type": "boolean"
          },
          "next_cursor": {
            "type": "string"
          }
        }
      },
      "Session": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "project_id": {
            "type": "string"
          },
          "space_id": {
            "type": "string"
          },
          "configs": {
            "type": "object"
          },
          "created_at": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        }
      },
      "ListSessionsOutput": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Session"
            }
          },
          "has_more": {
            "type": "boolean"
          },
          "next_cursor": {
            "type": "string"
          }
        }
      },
      "CreateSessionReq": {
        "type": "object",
        "properties": {
          "space_id": {
            "type": "string",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-42661417"
          },
          "configs": {
            "type": "object",
            "additionalProperties": true
          }
        }
      },
      "UpdateSessionConfigsReq": {
        "type": "object",
        "properties": {
          "configs": {
            "type": "object",
            "additionalProperties": true
          }
        }
      },
      "ConnectToSpaceReq": {
        "type": "object",
        "required": [
          "space_id"
        ],
        "properties": {
          "space_id": {
            "type": "string",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          }
        }
      },
      "FlagResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "integer"
          },
          "errmsg": {
            "type": "string"
          }
        }
      },
      "Message": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "session_id": {
            "type": "string"
          },
          "parent_id": {
            "type": "string"
          },
          "task_id": {
            "type": "string"
          },
          "role": {
            "type": "string"
          },
          "parts": {
            "type": "array",
            "items": {
              "type": "object"
            }
          },
          "meta": {
            "type": "object"
          },
          "session_task_process_status": {
            "type": "string"
          },
          "created_at": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        }
      },
      "GetMessagesOutput": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Message"
            }
          },
          "has_more": {
            "type": "boolean"
          },
          "next_cursor": {
            "type": "string"
          },
          "public_urls": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/PublicURL"
            }
          }
        }
      },
      "PublicURL": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string"
          },
          "expire_at": {
            "type": "string"
          }
        }
      },
      "SendMessageReq": {
        "type": "object",
        "required": [
          "blob"
        ],
        "properties": {
          "blob": {},
          "format": {
            "type": "string",
            "enum": [
              "acontext",
              "openai",
              "anthropic"
            ],
            "example": "openai"
          }
        }
      },
      "Space": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "project_id": {
            "type": "string"
          },
          "configs": {
            "type": "object"
          },
          "created_at": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        }
      },
      "ListSpacesOutput": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Space"
            }
          },
          "has_more": {
            "type": "boolean"
          },
          "next_cursor": {
            "type": "string"
          }
        }
      },
      "CreateSpaceReq": {
        "type": "object",
        "properties": {
          "configs": {
            "type": "object",
            "additionalProperties": true
          }
        }
      },
      "UpdateSpaceConfigsReq": {
        "type": "object",
        "required": [
          "configs"
        ],
        "properties": {
          "configs": {
            "type": "object",
            "additionalProperties": true
          }
        }
      },
      "SpaceSearchResult": {
        "type": "object",
        "properties": {
          "cited_blocks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SearchResultBlockItem"
            }
          },
          "final_answer": {
            "type": "string"
          }
        }
      },
      "SearchResultBlockItem": {
        "type": "object",
        "properties": {
          "block_id": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "distance": {
            "type": "number"
          },
          "props": {
            "type": "object",
            "additionalProperties": true
          }
        }
      },
      "Block": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "space_id": {
            "type": "string"
          },
          "parent_id": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "props": {
            "type": "object"
          },
          "sort": {
            "type": "integer"
          },
          "is_archived": {
            "type": "boolean"
          },
          "created_at": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        }
      },
      "CreateBlockReq": {
        "type": "object",
        "required": [
          "type"
        ],
        "properties": {
          "parent_id": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "example": "text"
          },
          "title": {
            "type": "string"
          },
          "props": {
            "type": "object",
            "additionalProperties": {}
          }
        }
      },
      "UpdateBlockPropertiesReq": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "props": {
            "type": "object",
            "additionalProperties": {}
          }
        }
      },
      "MoveBlockReq": {
        "type": "object",
        "properties": {
          "parent_id": {
            "type": "string"
          },
          "sort": {
            "type": "integer"
          }
        }
      },
      "UpdateBlockSortReq": {
        "type": "object",
        "properties": {
          "sort": {
            "type": "integer"
          }
        }
      },
      "InsertBlockResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          }
        }
      },
      "ToolReferenceData": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "sop_count": {
            "type": "integer"
          }
        }
      },
      "RenameToolNameReq": {
        "type": "object",
        "required": [
          "rename"
        ],
        "properties": {
          "rename": {
            "type": "array",
            "minItems": 1,
            "items": {
              "$ref": "#/components/schemas/ToolRenameItem"
            }
          }
        }
      },
      "ToolRenameItem": {
        "type": "object",
        "required": [
          "old_name",
          "new_name"
        ],
        "properties": {
          "old_name": {
            "type": "string"
          },
          "new_name": {
            "type": "string"
          }
        }
      }
    }
  }
}